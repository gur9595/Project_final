<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="mybatis.CashDAOImpl">

	<!-- Ball 충전 내역 -->
	<insert id="ballResult" parameterType="mybatis.CashDTO">
		insert into cash (cs_idx, m_id, cs_charge, cs_date)  
			 values(cash_seq.nextval, #{m_id}, #{cs_charge}, to_char(sysdate, 'yyyy-mm-dd hh24:mi:ss'))
	</insert>
	    
	<!-- Ball 업데이트(누적) -->
	<update id="ballUpdate">
		update member 
		set cash = cash + #{param1} 
		where m_id = #{param2}
	</update>
			
</mapper>  