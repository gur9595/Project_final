<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="mybatis.CashDAOImpl">

	<!-- Ball 충전 내역 -->
	<insert id="ballResult" parameterType="mybatis.CashDTO">
		insert into cash (cs_idx, m_id, cs_money,cs_type, cs_date)  
			 values(cash_seq.nextval, #{m_id}, #{cs_money}, 'charge' , to_char(sysdate, 'yyyy-mm-dd hh24:mi:ss'))
	</insert>
	    
	<!-- Ball 업데이트(누적) -->
	<update id="ballUpdate">
		update member 
		set cash = cash + #{param1} 
		where m_id = #{param2}
	</update>
	
	<!-- Ball 보유현황 가져오기 -->
	<select id="ballCurrent" resultType="int">
		select cash 
		from member 
		where m_id = #{param1}
	</select>
	
	
	
	
	
	
		
</mapper>  